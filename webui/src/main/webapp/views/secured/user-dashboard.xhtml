<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:jsf="http://xmlns.jcp.org/jsf"
  xmlns:p="http://primefaces.org/ui">
<f:view>
  <h:head>
    <title>Student Management Console</title>
    <h:outputStylesheet library="css" name="bulma.min.css" />
    <h:outputStylesheet library="css" name="style.css" />
  </h:head>
  <h:body>
    <h:form>
      <header>
        <h:link outcome="/views/secured/student/students" value="Show Students"
          styleClass="button is-info is-primary" />
        <h:outputLink value="http://localhost:8090/auth/realms/smart_school/account?referrer=webapp"
          styleClass="button is-success is-outline">Edit Profile</h:outputLink>
        <h:commandButton value="Logout | #{user.name}" action="#{user.logout}" styleClass="button is-danger is-light" />
      </header>
      <div class="container">
        <h1> User Dashboard (Secured) Page </h1>
        <h4> User Details </h4>
        <div>
          <table>
            <tr>
              <td>Id</td>
              <td>#{user.id}</td>
            </tr>
            <tr>
              <td>Name</td>
              <td>#{user.name}</td>
            </tr>
            <tr>
              <td>Email</td>
              <td>#{user.email}</td>
            </tr>
            <tr>
              <td>Picture</td>
              <td>#{user.picture}</td>
            </tr>
            <tr>
              <td>Scope</td>
              <td>#{user.scope}</td>
            </tr>
          </table>
          <hr />
          <h3>Roles</h3>
          <ui:repeat var="role" value="#{user.roles}" varStatus="status">
            <p>#{status.index} : #{role}</p>
          </ui:repeat>
        </div>
        <hr />
        <h4>Token Details</h4>
        <h3>Token Id : #{user.tokenId}</h3>
        <div class="token">
          <p>#{user.token}</p>
        </div>
      </div>
        </h:form>
  </h:body>

</f:view>

</html>
